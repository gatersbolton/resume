<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>美团到店营销实习问答</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body class="page">
  <header>
    <h1>美团到店营销实习怎么讲</h1>
    <a class="back-link" href="index.html">返回主页</a>
  </header>

  <div class="card">
    <h2>我如何概括这段实习</h2>
    <p>
      在到店营销技术组做后端实习，主要围绕新人券和活动模板服务：
      梳理下发链路、加幂等与限流、补监控埋点，同时准备大促压测和降级策略，
      目标是在高并发促销场景保证不超发、不掉单且体验顺滑。
    </p>
  </div>

  <div class="card">
    <h2>核心工作与解决方案</h2>
    <ul class="qa-list">
      <li>
        <strong>新人券幂等与防重：</strong>
        提供基于用户 + 活动的幂等 Key，Lua 原子校验“已领/库存”并写入流水；
        接口层限流 + 熔断，返回友好兜底文案，避免穿透下游。
      </li>
      <li>
        <strong>活动模板平台：</strong>
        提炼券包、满减、阶梯折扣等模板，统一配置校验与生效流程；
        提供灰度开关和回滚版本，遇到异常可快速降级为默认模板。
      </li>
      <li>
        <strong>压测与观测：</strong>
        重点压测发券、核销和查询链路，设置目标 QPS/延迟/错误率；
        建立链路追踪与日志抽样，指标告警包含库存异常、优惠串扰、流量突增。
      </li>
      <li>
        <strong>协同与复盘：</strong>
        与数据同学做 AB 实验，关注曝光-领取-核销转化；
        复盘一次缓存穿透故障，输出 SOP（流量分级、开关位、预热清单）。
      </li>
    </ul>
  </div>

  <div class="card">
    <h2>面试官可能追问什么（示例回答）</h2>
    <ul class="qa-list">
      <li>
        <strong>Q：发券接口如何防止重复领取或超发？</strong>
        A：入口限流 + 用户维度幂等 Key，Lua 原子校验库存并写流水，
        出现异常时使用降级券或排队返回；并在监控里拉齐“库存、领取、核销”三条线对账。
      </li>
      <li>
        <strong>Q：大促时突增流量怎么兜底？</strong>
        A：提前压测 + 预热热点缓存，开关位控制新功能灰度；
        服务端超时、熔断、隔离线程池，必要时降级为固定券包或静态兜底页，保证下单主链路可用。
      </li>
      <li>
        <strong>Q：怎么设计 AB 实验评价效果？</strong>
        A：定义曝光-领取-核销漏斗，随机分桶，确认样本量与实验周期；
        关注 GMV/订单数提升与成本，做显著性检验，异常时支持快速回滚。
      </li>
      <li>
        <strong>Q：如何保证优惠不串扰、规则不冲突？</strong>
        A：模板层做规则分层与校验（互斥、叠加上限、时间窗），
        下单侧按优先级排序后选择一套方案，写入订单扩展字段用于审计与回溯。
      </li>
      <li>
        <strong>Q：排查线上问题的步骤是什么？</strong>
        A：先看监控（QPS/错误/库存），再查链路追踪定位接口与下游耗时，
        结合抽样日志和自助开关切流，必要时回放异常请求或调低限流阈值稳态。
      </li>
    </ul>
  </div>
</body>
</html>
